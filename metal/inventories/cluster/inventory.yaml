pi5:
  hosts:
    pi5-01:
      ansible_host: 10.32.10.1
      # pi5 vars
      pi5_gateway_ip: 10.31.0.1
      pi5_static_ip: 10.32.10.1
    # pi5-02:
    #   ansible_host: 10.32.10.2
    # pi5-03:
    #   ansible_host: 10.32.10.3

cluster:
  children:
    servers:
      hosts:
        pi5-01:
          # k3 server vars
          k3s_node_name: pi5-01
          k3s_node_role: server
          k3s_node_leader: true
        # pi5-02:
        #   k3s_node_name: pi5-02
        #   k3s_node_role: server
        # pi5-03:
        #   k3s_node_name: pi5-03
        #   k3s_node_role: server
      vars:
        k3s_cluster_cidr: 10.33.0.0/16
        k3s_service_cidr: 10.34.0.0/16
        k3s_node_args:
          - --bind-address 0.0.0.0
          - --cluster-cidr {{ k3s_cluster_cidr }}
          - --service-cidr {{ k3s_service_cidr }}
          - --advertise-address 10.32.10.1
          - --disable traefik
          - --disable metrics-server
          - --disable servicelb
          - --flannel-backend none
          - --disable-network-policy
          - --disable-kube-proxy
    agents:
      hosts: {}
        # 10.32.20.1: {}
        # 10.32.20.2: {}
  vars:
    ansible_user: kurt
    k3s_version: v1.34.1+k3s1
